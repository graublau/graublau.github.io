<html lang="en">
    <head>
        <title>newsquake</title>

        <link href="style.css" rel="stylesheet" type="text/css">
        <link href="blue.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://use.typekit.net/vds5cqe.css">
        <link href='https://cdn.jsdelivr.net/npm/css.gg/icons/all.css' rel='stylesheet'>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
        <!-- <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.4/index.global.min.js"></script> -->
        <script src='https://cdn.jsdelivr.net/npm/fullcalendar-scheduler@6.1.4/index.global.min.js'></script>

        <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
        <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
        
        <script>
             const { createClient } = supabase;
                // Check we got the function:
                console.log(typeof createClient); // "function"    
        </script>

    </head>
    <body>
        <div class="logo"><img src="newsquake_blue.png"><span class="logotype">newsquake</span></div>

        <div class="menu">
            <div class="nodeco menuitem"><a href="#settings"><i class="gg-menu-hotdog"></i></a></div> 
            <div class="nodeco menuitem"><a href="#dropForm"><i class="gg-add"></i></a></div> 
        </div>
        
        <form name="channelForm" id="channelForm" method="post">
            <ul class="modal">
                <div class="close">
                    <a href="#"><i class="gg-close"></i></a>
                </div>
                <div class="contentcontainer">
                    <h1>Manage Channels</h1>
                    <table>
                        <thead>
                            <tr>
                                <td id="channelTitleHead">Title*</td>
                                <td id="channelMediatypeHead">Mediatype*</td>
                                <td id="channelOwnerHead">Owner</td>
                                <td id="channelOrderHead">Order</td>
                                <td id="tableAction"></td>
                            </tr>
                            <tr>
                                <td id="channelTitle"> <input type="text" name="channeltitle" id="channelFormTitle" class="cta" required/></td>
                                <td id="channelMediatype">
                                    <select name="mediatype" id="channelFormMediatype" class="cta" required>
                                        <option>earned</option>
                                        <option>owned</option>
                                        <option>paid</option>
                                        <option>social</option>
                                    </select>
                                 </td>
                                <td id="channelOwner"><input type="text" name="channelowner" id="channelFormOwner" class="cta"/></td>
                                <td id="channelOrder"><input type="text" name="channelorder" id="channelFormOrder" class="cta"/></td>
                                <td id="channelSubmitButton"><input type="buttonxs" name="submit" value="Submit" id="submitChannel" onclick="SubmitChannel()" class="cta"/></td>
                                <td id="channelUpdateButton"><input type="buttonxs" name="submit" value="Update" id="updateChannel" onclick="UpdateChannel()" class="cta"/></td>
                            </tr>
                        </thead>
                        <tbody id="channels_ul"></tbody>                     
                    </table>
                </div>
            </ul>  
         </form>  
        <form name="epicForm" id="epicForm" method="post">
            <ul class="modal">
                    <div class="close">
                        <a href="#"><i class="gg-close"></i></a>
                    </div>
          
                <div class="contentcontainer">
                    <h1>Manage Topics</h1>
                    <table>
                        <thead>
                            <tr>
                                <td id="epicTitleHead">Title*</td>
                                <td id="epicOwnerHead">Owner</td>
                                <td id="tableAction"></td>
                            </tr>
                            <tr>
                                <td id="epicTitle"> <input type="text" name="epictitle" id="epicFormTitle" class="cta" required/></td>
                                <td id="epicOwner"><input type="text" name="epicowner" id="epicFormOwner" class="cta"/></td>
                                <td id="epicSubmitButton"><input type="buttonxs" name="submit" value="Submit" id="submitEpic" onclick="SubmitEpic()" class="cta"/></td>
                                <td id="epicUpdateButton"><input type="buttonxs" name="submit" value="Update" id="updateEpic" onclick="UpdateEpic()" class="cta"/></td>
                            </tr>
                        </thead>
                        <tbody id="epics_ul"></tbody>                     
                    </table>
                </div>
            </ul>  
         </form>  

        <form name="dropForm" id="dropForm" method="post">
           <ul class="modal">
            <div class="close">
                    <a href="#"><i class="gg-close"></i></a>
            </div>               
            <div class="contentcontainer">
                <h1>+ Content</h1>
                <li>
                    <label>Title:*</label><br>
                    <input type="text" name="title" id="title" class="cta" placeholder="Long Story Short" required/>
                </li>
                <li>
                    <label>Topic:*</label><br>
                    <select name="epic" id="epic" class="cta" required></select> <span class="descr">or</span> <a href="#epicForm" class="descr">Manage Topics </a>
                </li>
                <li>
                    <label>Channel:*</label><br>
                    <select name="channel" id="channel" class="cta" required></select> <span class="descr">or</span> <a href="#channelForm" class="descr">Manage Channels</a>
                </li>
                <li>
                    <label>Publication Start Date and Time:*</label><br>
                    <input type="datetime-local" id="pub_date_time_start" name="pub_date_time_start" class="cta" timezone={getTimezoneOffsetString()} required/>
                </li>
                <li>
                    <label>Publication End Date and Time:*</label><br>
                    <input type="datetime-local" id="pub_date_time_end" name="pub_date_time_end" class="cta" timezone={getTimezoneOffsetString()} required/>
                </li>
                    <label>Text:</label><br>
                    <!-- <textarea name="text" id="text" cols="30" rows="10" class="cta"></textarea> -->
                    <div name="text" id="text" class="cta"></div>            
                      
                </li>
                <li>
                <li>
                    <label>Images, Videos, Assets:</label><br>
                    <input type="url" name="assets" id="assets" class="cta" placeholder="Valid URL"/>
                </li>
                <li>
                    <input type="button" name="submit" id="submitDrop" value="Submit" onclick="SubmitDrop()" class="cta"/>
                </li>
                <li>
                    <input type="button" name="duplicate" id="duplicateDrop" value="Duplicate" onclick="SubmitDrop()" class="cta"/>
                </li>
                <li>
                    <input type="button" name="update" id="updateDrop" value="Update" onclick="UpdateDrop()" class="cta"/>
                </li>
            </div>
           </ul>  
        </form>  

        <div id="calendar"></div>

        <ul id="drop_ul"></ul>

        <div id="epic_detail" class="modal">
            <div class="close"><a href="#"><i class="gg-close"></i></a></div>
            <ul id="epic_ul"></ul>
            <table>
                <tbody id="epic_drops_ul"></tbody>
            </table>
        </div>

        <div id="login" class="modal" style="display: block;">
            <div class="centercontainer">
            <div class="logo centerlogo"><img src="newsquake_blue.png">newsquake</div>
                <h1>Login</h1>
                <form id="magicLinkForm">
                    <li>
                    <input type="email" id="email" name="email" required class="cta" placeholder="E-Mail">
                    </li>
                    <li>
                    <input type="submit" class="cta" value="Send Magic Link"/>
                    </li>
                </form>
            </div>            
        </div>
        
        <div id="settings" class="modal">
            <div class="close">
                <a href="#"><i class="gg-close"></i></a>
            </div>
            <div class="contentcontainer">
                <ul class="menu_column">
                    <h1>Plan</h1>
                    <li>
                        <a href="#">
                            Manage Contents
                        </a>
                    </li>                    
                    <li>
                        <a href="#channelForm">
                            Manage Channels
                        </a>
                    </li>
                    <li>
                        <a href="#epicForm">
                            Manage Topics
                        </a>
                    </li>
                </ul>
                <ul class="menu_column">
                    <h1>Profile</h1>                                                                 
                    <div id="username" style="display: none;"></div>       
                    <input type="logout" id="logoutButton" class="cta" value="Logout"/>
                </ul>
                <!-- <ul class="menu_column">
                    <h1>Report</h1>
                    <li>Coming sooner or later</li>
                    <li>
                        <a href="#">
                            Link 1
                        </a>
                    </li>
                    <li>
                        <a href="#">
                           Link 2
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            Link 3
                        </a>
                    </li>
                </ul>
                <ul class="menu_column">
                    <h1>Ideate</h1>
                    <li>Coming sooner or later</li>

                </ul> -->
                <!-- <ul class="menu_column">
                    <h1>Login</h1>
                    <li>

                        <form id="magicLinkForm">
                            <label for="email">Email:</label>
                            <input type="email" id="email" name="email" required class="cta">
                            <input type="buttonxs" class="cta" value="Send Magic Link"/>
                          </form>

                          
                    </li>
                </ul> -->
            </div>
        </div>

        <!-- END -->
        <script src="app.js"></script>

    </body>
</html>